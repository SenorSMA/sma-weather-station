<html>
<head>
    <meta charset="utf-8" />
    <title>SMA Weather Station</title>

    <style>
        body {
            background-image: linear-gradient(rgba(240, 221, 180, 0.90), rgba(240, 221, 180, 0.65)), url('aztec-background.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            font-family: Georgia, 'Times New Roman', serif;
            font-size: 27pt;
            color: #000000;
        }

        /* üî∂ Lighter, semi‚Äëtransparent burnt-orange banner */
        .title-banner {
            background-color: rgba(204, 85, 0, 0.32); /* softer, lighter, transparent */
            padding: 25px 0;
            border-radius: 14px;
            margin: 0 1.5em;
        }

        /* üîÅ Smaller flag toggle button (F1) */
        #lang-toggle {
            position: absolute;
            right: 65px;   /* 1/4 inch from right edge */
            top: 45px;     /* 1/4 inch from top edge */
            background-color: transparent;
            border: none;
            font-size: 28pt;
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }



        
        .layout {
            display: grid;
            grid-template-rows: auto;
            grid-template-columns: 100%;
            grid-template-areas:
                "header"
                "current"
                "forecast"
                "footer";
            grid-gap: 10px;
        }

        .item-header { grid-area: header; padding-top: 1em; position: relative; }
        .item-current { grid-area: current; padding-left: 2em; padding-right: 2em; }
        .item-forecast { grid-area: forecast; padding-left: 2em; padding-right: 2em; }
        .item-footer { grid-area: footer; padding-left: 2em; padding-right: 2em; }

        table { margin-left:2em; }
        td { font-size: 27pt; padding-right: 20px; padding-bottom: 10px; }
        .forecast-table td { font-size: 27pt; padding: 10px; background-color:#F6F6F6; }
        .forecast-weekend-row td { font-size: 27pt; padding: 10px; background-color:#E6E6E6; }

        #weather-table {
            border-spacing: 0;
            width: 90%;
            margin: 0 auto;
        }

        #weather-table td:last-child {
            text-align: right;
        }
    </style>
</head>

<body>
    <div class="layout">

        <!-- üî∂ HEADER WITH BANNER + TOGGLE BUTTON -->
        <div class="item-header">
            <button id="lang-toggle" onclick="toggleLanguage()">üá∫üá∏</button>

            <div class="title-banner">
                <center><h1 id="title-main" style="font-size: 135%; color:#5a4a3a">SMA Weather</h1></center>
                <center><h3 id="title-sub" style="font-size: 60%; color:#5a4a3a; margin-top: -15px;">Central Mexico 6,614 ft</h3></center>
            </div>

            <p id="message" hidden></p>
        </div>

        <!-- CURRENT CONDITIONS -->
        <div class="item-current">
            <h3 id="current-header" style="font-size: 72%; text-align: center; color: #5a4a3a;">Current Conditions</h3>

            <table id="weather-table">
                <tr><td style="text-align:center"><img src="temperature.png" height="80"></td><td id="lbl-temp">Temperature (¬∞F)</td><td><span id="temperature">-</span></td></tr>
                <tr><td style="text-align:center"><img src="humidity.png" height="80"></td><td id="lbl-humidity">Humidity (%rH)</td><td><span id="humidity">-</span></td></tr>
                <tr><td style="text-align:center"><img src="pressure.png" height="80"></td><td id="lbl-pressure">Pressure (inHg)</td><td><span id="pressure">-</span></td></tr>
                <tr><td style="text-align:center"><img src="rain.png" height="80"></td><td id="lbl-rain">Rain (mm)</td><td><span id="rain">-</span></td></tr>
                <tr><td style="text-align:center"><img src="wind.png" height="80"></td><td id="lbl-wind">Wind (mph)</td><td><span id="wind">-</span></td></tr>
                <tr><td style="text-align:center"><img src="battery.png" height="80"></td><td id="lbl-battery">Battery</td><td><span id="batterypercentage">-</span></td></tr>
                <tr><td style="text-align:center"><img src="sun.png" height="80"></td><td id="lbl-sun">Sun</td><td><span id="sun">-</span></td></tr>
                <tr><td style="text-align:center"><img src="updated.png" height="80"></td><td id="lbl-updated">Date/Time</td><td><span id="updated">-</span> <span id="offline"></span></td></tr>
            </table>
        </div>

        <!-- FORECAST -->
        <div class="item-forecast" id="item_forecast" hidden>
            <h3 id="forecast-header">Forecast</h3>
            <table id="forecast-table" class="forecast-table"></table>
            <p><em><span id="lbl-datafrom">Data from</span> <span id="station">-</span> (<a target="_blank" rel="noopener noreferrer" href="http://openweathermap.org">openweathermap.org</a>)</em></p>
        </div>

        <!-- FOOTER -->
        <div class="item-footer">
            <p id="footer-text" style="font-size: 40%; text-align: center; color: #5a4a3a;">¬© 2026 SMA Weather</p>
        </div>
    </div>

<script>
/* üîÅ LANGUAGE SYSTEM ‚Äî UI ONLY */
let currentLang = "en";

const translations = {
    en: {
        titleMain: "SMA Weather",
        titleSub: "Central Mexico 6,614 ft",
        current: "Current Conditions",
        forecast: "Forecast",
        temp: "Temperature (¬∞F)",
        humidity: "Humidity (%rH)",
        pressure: "Pressure (inHg)",
        rain: "Rain (mm)",
        wind: "Wind (mph)",
        battery: "Battery",
        sun: "Sun",
        updated: "Date/Time",
        dataFrom: "Data from",
        footer: "¬© 2026 SMA Weather",
        toggleButton: "üá≤üáΩ",
        today: "Today",
        tomorrow: "Tomorrow"
    },
    es: {
        titleMain: "Clima SMA",
        titleSub: "M√©xico Central 6,614 pies",
        current: "Condiciones Actuales",
        forecast: "Pron√≥stico",
        temp: "Temperatura (¬∞F)",
        humidity: "Humedad (%rH)",
        pressure: "Presi√≥n (inHg)",
        rain: "Lluvia (mm)",
        wind: "Viento (mph)",
        battery: "Bater√≠a",
        sun: "Sol",
        updated: "Fecha/Hora",
        dataFrom: "Datos de",
        footer: "¬© 2026 Clima SMA",
        toggleButton: "üá∫üá∏",

        today: "Hoy",
        tomorrow: "Ma√±ana"
    }
};

function applyLanguage() {
    const t = translations[currentLang];

    document.getElementById("title-main").innerText = t.titleMain;
    document.getElementById("title-sub").innerText = t.titleSub;
    document.getElementById("current-header").innerText = t.current;
    document.getElementById("forecast-header").innerText = t.forecast;

    document.getElementById("lbl-temp").innerHTML = t.temp;
    document.getElementById("lbl-humidity").innerHTML = t.humidity;
    document.getElementById("lbl-pressure").innerHTML = t.pressure;
    document.getElementById("lbl-rain").innerHTML = t.rain;
    document.getElementById("lbl-wind").innerHTML = t.wind;
    document.getElementById("lbl-battery").innerHTML = t.battery;
    document.getElementById("lbl-sun").innerHTML = t.sun;
    document.getElementById("lbl-updated").innerHTML = t.updated;

    document.getElementById("lbl-datafrom").innerHTML = t.dataFrom;
    document.getElementById("footer-text").innerHTML = t.footer;

    document.getElementById("lang-toggle").innerText = t.toggleButton;
}

function toggleLanguage() {
    currentLang = currentLang === "en" ? "es" : "en";
    applyLanguage();
}

/* Initialize language on load */
applyLanguage();

/* üîß Your existing weather + forecast logic remains unchanged below */
/* (All your original functions: getWeatherData, getForecastData, etc.) */
</script>

<!-- Your original JS continues here exactly as provided -->
<script>
/* Entire getForecastDataWithConfiguration, getForecastData, getWeatherData,
   changeWindSpeedUnit, intervals ‚Äî unchanged from your 3 parts */
</script>

</body>
</html>
